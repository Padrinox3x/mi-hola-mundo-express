<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Formulario Validado</title>
    <link rel="stylesheet" href="css/formulario.css">
</head>
<body>

<form id="formulario" novalidate>
    <h2>Registro</h2>

    <label for="nombre">Nombre</label>
    <input type="text" id="nombre" name="nombre" maxlength="30">

    <label for="apellidoP">Apellido Paterno</label>
    <input type="text" id="apellidoP" name="apellidoP" maxlength="30">

    <label for="apellidoM">Apellido Materno</label>
    <input type="text" id="apellidoM" name="apellidoM" maxlength="30">

    <label for="usuario">Usuario</label>
    <input type="text" id="usuario" name="usuario" maxlength="20">

    <label for="password">Contraseña</label>
    <input type="password" id="password" name="password" maxlength="30">

    <label for="password2">Repetir Contraseña</label>
    <input type="password" id="password2" name="password2" maxlength="30">

    <label for="lada">LADA</label>
    <input type="text" id="lada" name="lada" maxlength="3">

    <label for="telefono">Número de Teléfono (10 dígitos)</label>
    <input type="text" id="telefono" name="telefono" maxlength="10">

    <label for="fecha">Fecha de Nacimiento</label>
    <input type="date" id="fecha" name="fecha">

    <div class="error" id="error"></div>

    <button type="submit">Registrar</button>
</form>

<script>
document.addEventListener("DOMContentLoaded", function () {

    document.getElementById("formulario").addEventListener("submit", function (e) {
        e.preventDefault();

        const error = document.getElementById("error");
        error.textContent = "";

        const nombre = document.getElementById("nombre").value.trim();
        const apellidoP = document.getElementById("apellidoP").value.trim();
        const apellidoM = document.getElementById("apellidoM").value.trim();
        const usuario = document.getElementById("usuario").value.trim();
        const password = document.getElementById("password").value;
        const password2 = document.getElementById("password2").value;
        const lada = document.getElementById("lada").value.trim();
        const telefono = document.getElementById("telefono").value.trim();
        const fecha = document.getElementById("fecha").value;

        const soloLetras = /^[A-Za-zÁÉÍÓÚáéíóúÑñ]+$/;
        const sinEspacios = /^\S+$/;
        const soloNumeros = /^[0-9]+$/;
        const passwordRegex = /^(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,30}$/;

        if (!nombre || !apellidoP || !apellidoM || !usuario || !password || !password2 || !lada || !telefono || !fecha) {
            error.textContent = "Todos los campos son obligatorios";
            return;
        }

        if (![nombre, apellidoP, apellidoM].every(v => soloLetras.test(v))) {
            error.textContent = "Nombre y apellidos solo deben contener letras";
            return;
        }

        if (!soloLetras.test(usuario) || !sinEspacios.test(usuario)) {
            error.textContent = "El usuario solo debe contener letras y sin espacios";
            return;
        }

        if (!sinEspacios.test(password)) {
            error.textContent = "La contraseña no debe contener espacios";
            return;
        }

        if (!passwordRegex.test(password)) {
            error.textContent = "La contraseña debe tener mínimo 8 caracteres, una mayúscula y un carácter especial";
            return;
        }

        if (password !== password2) {
            error.textContent = "Las contraseñas no coinciden";
            return;
        }

        if (!soloNumeros.test(lada) || lada.length < 2) {
            error.textContent = "La LADA debe contener solo números";
            return;
        }

        if (!soloNumeros.test(telefono) || telefono.length !== 10) {
            error.textContent = "El teléfono debe tener exactamente 10 dígitos";
            return;
        }

        alert("Formulario válido ✅");
    });

});
</script>

</body>
</html>
